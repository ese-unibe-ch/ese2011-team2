#{extends 'main.html' /}
#{set title:'Edit Event' /}
#{set header:'Edit Event' /}

<head>
	<link rel="stylesheet" media="screen" href="@{'/public/stylesheets/editEvent.css'}">
</head>

<div id=edit>
	<h2>Edit "${event.name}"</h2>
	#{form @Application.saveEditedEvent()}
		<input type="hidden" name="calendarName" value="${calendar.name}">
		<input type="hidden" name="hash" value="${event.hashCode()}">
		<input type="hidden" name="oldStartDate" value="${event.start.format("dd.MM.yyyy hh:mm")}">
		<p>
			<label for="name">Event Name: </label> <br/>
			<input type="text" name="name" value="${event.name}"/>
		</p>
		<p>
			<label for="startDate">Start Date: </label> <br/>
			<input type="text" name="startDate" value="${event.start.format("dd.MM.yyyy hh:mm")}"/>
		</p>
		<p>
			<label for="endDate">End Date: </label> <br/>
			<input type="text" name="endDate" value="${event.end.format("dd.MM.yyyy hh:mm")}"/>
		</p>
		<p>
			<label for="visibility">Visibility: </label> <br/>
			<input type="radio" name="visibility" value ="private" #{if event.hasType("private")}checked="checked"#{/if} /> Private <br/>
			<input type="radio" name="visibility" value ="public" #{if event.hasType("public")}checked="checked"#{/if}/> Public <br/>
			<input type="radio" name="visibility" value ="busy" #{if event.hasType("busy")}checked="checked"#{/if}/> Show as busy <br/>
		</p>
		<p>
			<input type="submit" value="edit Event">
			#{form @Application.calendar(calendar.name)} 
				<input type="submit" name="add" value="cancel">
			#{/form}
		</p>
	#{/form}
</div>