#{extends 'main.html' /}
#{set title:'Home' /}
#{set header:'Calendar' /}

<head>
	<link rel="stylesheet" media="screen" href="@{'/public/stylesheets/index.css'}">
</head>

<div id="welcome">
	<h1>Welcome to the ESE Calendaring app</h1>
	Your Calendars are: <br/>
	
	<ul>
		#{list items: userCalendars, as:'calendar'}
			<li><a href="@{Application.currentCalendar(calendar.name)}">${calendar.name}</a></li>
			<a href=@{IndexPage.deleteCalendar(calendar.name)}>Delete</a>
		#{/list}
	</ul>
</div>

<div id="search">
	<h4>Search for other users</h4>
	#{form @IndexPage.searchUser()}
		<input type="text" name="searchRegex" placeholder="takes a java regex"/>
		<input type="submit" value ="search">
	#{/form}
	#{list items:foundUsers, as:'User'}
	<ul>
		<li> 
			<a href="@{Application.user(User)}">${User}</a>
		</li>
	</ul>
	#{/list}
</div>

<div id="addCalendar">
	<h4>Add a new Calendar</h4>
	#{form @IndexPage.addCalendar()}
			<label for="name">Calendar Name </label> <br/>
			<input type="text" name="calendarName" />
			<input type="submit" value ="Add">
	#{/form}
</div>